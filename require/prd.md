## 1. 프로젝트 개요

- **프로젝트명**: 금융 타임캡슐 프로토타입 (MVP)
- **서비스 유형**: 모바일 앱 (Flutter 기반)
- **개발 기간**: 6주 (2025.01.01 ~ 2025.02.15)
- **대상 사용자**: 20~40대 금융 서비스 이용자
- **프로토타입 목표**: 핵심 기능 검증 및 사용자 피드백 수집

---

## 2. 비전(Vision)

**"감성적 금융 기록" 경험 제공**
- 사용자가 금융 활동과 개인적 추억을 함께 기록
- 설정된 기간 후 타임캡슐을 열어보는 재미있는 경험
- 간단한 리워드 시스템으로 지속적 사용 유도

---

## 3. MVP 범위 정의

### 3.1. 포함되는 기능 (Must Have)
1. **타임캡슐 생성** (개인형 + 모임형 기본)
2. **콘텐츠 추가** (텍스트 + 이미지)
3. **가상 금융 데이터 표시** (하드코딩)
4. **타임캡슐 열람** (간단한 애니메이션)
5. **기본 리워드 시스템** (포인트 적립)

### 3.2. 제외되는 기능 (Nice to Have)
1. 실제 멀티유저 동기화 (모임형은 로컬에서만)
2. 실제 금융 데이터 연동
3. 복잡한 애니메이션 효과
4. SNS 로그인 (게스트 모드만)
5. 알림 기능

---

## 4. 기능 요구사항

### 4.1. 타임캡슐 생성
- **단일 화면 구성**: 모든 정보를 한 화면에서 입력
  - 유형 선택 (개인형/모임형)
  - 제목 및 모임 정보 입력
  - 보관 기간 선택 (날짜 선택기)
  - 첫 번째 추억 작성
- **개인형**:
  - 제목: 최대 30자
- **모임형** (간단 버전):
  - 모임 이름: 최대 30자
  - 참여자 이름: 텍스트 입력 (쉼표 구분, 로컬 저장만)
  - 실제 동기화 없이 UI만 제공
- **공통 제약사항**:
  - 텍스트: 최대 300자
  - 이미지: 1개, 최대 2MB

### 4.2. 홈 화면
- **캡슐 리스트**: 카드 형태로 최대 10개
- **상태 표시**: D-Day 또는 "타임캡슐 열기" 버튼
- **새 캡슐 생성**: 상단 + 버튼

### 4.3. 상세 화면
- **오늘의 금융 활동**: 고정된 3개 더미 데이터
- **작성 콘텐츠**: 텍스트 + 이미지 표시
- **추가 작성**: 기존 캡슐에 콘텐츠 추가 (다이얼로그)
- **타임캡슐 열기**: 언제든지 열기 가능한 버튼

### 4.4. 열람 화면
- **통합 화면**: 상세 화면에서 바로 열람 가능
- **콘텐츠 표시**: 시간순 정렬
- **포인트 표시**: 누적 포인트 강조

### 4.5. 리워드 시스템
- **포인트 적립**:
  - 캡슐 생성: +100P
  - 콘텐츠 추가: +50P
  - 이미지 첨부: +20P
  - 3개 콘텐츠 추가 시: +500P 보너스
- **표시**: 간단한 숫자 카운터

### 4.6. 모임형 타임캡슐 (간단 버전)

**구현 방식**: 로컬 저장만, 실제 멀티유저 동기화 없음

- **모임 생성**: 
  - 모임 이름과 참여자 이름을 텍스트로 입력받아 저장
  - 참여자는 쉼표로 구분된 문자열로 관리
  
- **UI 차이점**:
  - 홈 화면: 그룹 아이콘으로 구분
  - 상세 화면: 참여자 목록 표시
  - 열람 화면: "모임 총 포인트" 표시
  
- **제한사항**:
  - 실제 참여자와의 동기화 없음
  - 한 명이 모든 콘텐츠 작성
  - 시연용 UI 제공이 목적

---

## 5. 기술 스택

### 5.1. 프론트엔드
- **플랫폼**: Flutter 3.16+
- **상태관리**: Provider
- **로컬 저장소**: SQLite (sqflite)
- **이미지 처리**: image_picker
- **파일 저장**: 로컬 디렉토리

### 5.2. 데이터
- **로컬 데이터베이스**: SQLite
- **이미지 저장**: 로컬 디렉토리
- **더미 데이터**: 하드코딩된 JSON
- **파일 저장**: 로컬 디렉토리

### 5.3. 필요한 패키지
- **sqflite**: ^2.3.0 (로컬 데이터베이스)
- **path_provider**: ^2.1.1 (파일 시스템 접근)
- **shared_preferences**: ^2.2.2 (간단한 키-값 저장)
- **image_picker**: ^1.0.4 (이미지 선택)
- **provider**: ^6.0.5 (상태 관리)
- **uuid**: ^4.2.1 (고유 ID 생성)
- **intl**: ^0.19.0 (날짜/시간 포맷팅)
- **path**: ^1.8.3 (경로 처리)

---

## 6. 데이터 모델

### 6.1. Capsule 모델
```dart
class Capsule {
  final String id;
  final String title;
  final CapsuleType type; // personal, group
  final String? groupName; // 모임형일 때만
  final List<String> members; // 모임형 참여자 (로컬 저장)
  final DateTime createdAt;
  final DateTime openDate;
  final bool isOpened;
  final int points;
  
  // 생성자 및 변환 메소드
  // fromMap: 데이터베이스에서 객체로 변환
  // toMap: 객체에서 데이터베이스로 변환
  // copyWith: 객체 복사 메소드
}

enum CapsuleType { personal, group }
```

### 6.2. Content 모델
```dart
class Content {
  final String id;
  final String capsuleId;
  final String text;
  final String? imageUrl;
  final DateTime createdAt;
  
  // 생성자 및 변환 메소드
  // fromMap: 데이터베이스에서 객체로 변환
  // toMap: 객체에서 데이터베이스로 변환
  // copyWith: 객체 복사 메소드
}
```

### 6.3. 더미 금융 데이터
```json
[
  {"name": "스타벅스", "amount": -5600, "type": "지출"},
  {"name": "급여", "amount": 2500000, "type": "수입"},
  {"name": "적금", "amount": -300000, "type": "저축"}
]
```

---

## 7. UI/UX 가이드라인

### 7.1. 디자인 시스템
- **컬러**: Material Design 3 기본 팔레트
- **타이포그래피**: 시스템 폰트 (Roboto/SF Pro)
- **스페이싱**: 8dp 그리드 시스템

### 7.2. 주요 화면
1. **홈 화면**: 리스트뷰 + 상단 + 버튼 (개인형/모임형 구분 아이콘)
2. **생성 화면**: 단일 스크롤 화면
   - 유형 선택 (라디오 버튼)
   - 정보 입력 (조건부 폼)
   - 기간 선택 (날짜 선택기)
   - 콘텐츠 작성
3. **상세 화면**: 스크롤 가능한 단일 화면 (모임형은 참여자 정보 표시)
4. **콘텐츠 추가**: 다이얼로그 형태

### 7.3. 애니메이션
- **페이지 전환**: 기본 Material 전환
- **캡슐 오픈**: 간단한 스낵바 알림
- **포인트 표시**: 텍스트 표시

---

## 8. 개발 일정

### Week 1 (2025.01.01-01.07)
- 프로젝트 초기 설정 ✅
- 데이터베이스 스키마 구현 (SQLite) ✅
- 기본 UI 컴포넌트 개발 ✅

### Week 2 (2025.01.08-01.14)
- 타임캡슐 생성 플로우 구현 (개인형/모임형) ✅
- 홈 화면 구현 ✅
- 데이터 관리 레포지토리 구현 ✅

### Week 3 (2025.01.15-01.21)
- 상세 화면 구현 ✅
- 콘텐츠 추가 기능 구현 ✅
- 이미지 처리 구현 ✅

### Week 4 (2025.01.22-01.28)
- 열람 화면 구현 ✅
- 애니메이션 추가 ✅
- 테스트 데이터 설정 ✅

### Week 5 (2025.01.29-02.04)
- 리워드 시스템 구현 ✅
- 더미 데이터 연동 ✅
- 통합 테스트 및 버그 수정

### Week 6 (2025.02.05-02.15)
- 테스트 및 버그 수정
- UI 폴리싱
- 프로토타입 배포

---

## 9. 성공 지표

### 9.1. 기능적 지표
- 타임캡슐 생성 완료율: 80% 이상
- 평균 콘텐츠 추가 횟수: 3회 이상
- 캡슐 열람률: 90% 이상

### 9.2. 기술적 지표
- 앱 크래시율: 1% 미만
- 평균 로딩 시간: 2초 이내
- 메모리 사용량: 100MB 이내

---

## 10. 제약사항 및 가정

### 10.1. 제약사항
- 오프라인 전용 (SQLite 기반)
- iOS/Android 모두 지원
- 최소 지원 버전: iOS 12.0, Android API 21

### 10.2. 가정
- 사용자는 기본적인 모바일 앱 사용에 익숙함
- 디바이스에 충분한 저장 공간 있음
- 카메라 및 갤러리 접근 권한 허용

---

## 11. 파일구조

```
lib/
├── main.dart
├── app/
│   └── router.dart
├── data/
│   ├── helpers/
│   │   └── database_helper.dart
│   └── repositories/
│       ├── capsule_repository.dart
│       └── content_repository.dart
├── models/
│   ├── capsule.dart
│   └── content.dart
├── presentation/
│   ├── screens/
│   │   ├── home/
│   │   │   └── home_screen.dart
│   │   ├── create/
│   │   │   └── create_screen.dart
│   │   └── detail/
│   │       └── detail_screen.dart
│   └── providers/
│       └── capsule_provider.dart
└── assets/
    └── images/
```

---

## 12. 다음 단계

### 12.1. 1차 프로토타입 완료 후
- 사용자 테스트 진행
- 피드백 수집 및 분석
- 개선사항 도출

### 12.2. 2차 개발 계획
- Firebase 연동 확장 (필요 시)
- 모임형 타임캡슐 개선
- 실제 금융 데이터 연동 검토
- 소셜 기능 추가 검토